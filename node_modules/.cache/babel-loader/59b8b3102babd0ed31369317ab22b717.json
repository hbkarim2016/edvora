{"ast":null,"code":"var _jsxFileName = \"C:\\\\My Computer\\\\my work\\\\apps\\\\edvora\\\\edvora\\\\src\\\\content\\\\components\\\\Filter\\\\Filter.jsx\",\n    _s = $RefreshSig$();\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowDownWideShort, faArrowDown } from '@fortawesome/free-solid-svg-icons';\nimport './Filter.css';\nimport { useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { originalRidesAddNearest, originalRidesAddUpcoming, originalRidesAddPast } from '../../redux/reducers/OriginalRidesSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Filter = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [stateSelect, setStateSelect] = useState('all');\n  const [citySelect, setCitySelect] = useState('all');\n  const {\n    ridesNearState,\n    ridesUpcomingState,\n    ridesPastState,\n    upcomingCount,\n    pastCount\n  } = useSelector(state => state.rideStore);\n  const filterRef = useRef();\n  const stateRef = useRef();\n  const cityRef = useRef();\n\n  const handleFilterShow = e => {\n    e.target.parentElement.classList.toggle('active');\n    filterRef.current.classList.toggle('active');\n  };\n\n  const handleFilterSelect = refValue => {\n    refValue.current.classList.toggle('active');\n  };\n\n  const handleFilterSelectValue = e => {\n    let filterSelectValue = e.target.getAttribute('name');\n    let filterField = e.target.parentElement.parentElement.id;\n\n    if (filterField === 'state') {\n      setStateSelect(filterSelectValue);\n    } else if (filterField === 'city') {\n      setCitySelect(filterSelectValue);\n    }\n  };\n\n  const handleFilterStateAndCity = () => {\n    if (stateSelect !== 'all' && citySelect === 'all') {\n      let originalNear = ridesNearState.filter(el => el.state === stateSelect);\n      dispatch(originalRidesAddNearest({\n        originalRidesNearest: originalNear\n      }));\n      let originalUpcoming = ridesUpcomingState.filter(el => el.state === stateSelect);\n      dispatch(originalRidesAddUpcoming({\n        originalRidesUpcoming: originalUpcoming\n      }));\n      let originalPast = ridesPastState.filter(el => el.state === stateSelect);\n      dispatch(originalRidesAddPast({\n        originalRidesPast: originalPast\n      }));\n    }\n\n    if (stateSelect === 'all' && citySelect === 'all') {\n      let originalNear = ridesNearState;\n      dispatch(originalRidesAddNearest({\n        originalRidesNearest: originalNear\n      }));\n      let originalUpcoming = ridesUpcomingState;\n      dispatch(originalRidesAddUpcoming({\n        originalRidesUpcoming: originalUpcoming\n      }));\n      let originalPast = ridesPastState;\n      dispatch(originalRidesAddPast({\n        originalRidesPast: originalPast\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filter\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-links\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          className: _ref => {\n            let {\n              isActive\n            } = _ref;\n            return isActive ? 'active' : '';\n          },\n          to: `/`,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Nearest rides\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          className: _ref2 => {\n            let {\n              isActive\n            } = _ref2;\n            return isActive ? 'active' : '';\n          },\n          to: `upcoming`,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Upcoming rides (\", upcomingCount, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          className: _ref3 => {\n            let {\n              isActive\n            } = _ref3;\n            return isActive ? 'active' : '';\n          },\n          to: `past`,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Past rides (\", pastCount, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-selects\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleFilterShow,\n          className: \"filter-header\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faArrowDownWideShort\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Filter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: filterRef,\n          className: \"filter-lists\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => handleFilterSelect(stateRef),\n            className: \"filter-state filter-single-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-select-style\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faArrowDown\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-select-style\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"State (\", stateSelect, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: stateRef,\n            id: \"state\",\n            className: \"filter-state-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: handleFilterSelectValue,\n              className: \"filter-single-list\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-select-style\",\n                name: \"all\",\n                children: \"all\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this), ridesNearState.length > 0 && ridesNearState.map((el, indx) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: handleFilterSelectValue,\n                className: \"filter-single-list\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"filter-select-style\",\n                  name: el.state,\n                  children: el.state\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 49\n                }, this)\n              }, indx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 45\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => handleFilterSelect(cityRef),\n            className: \"filter-city filter-single-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-select-style\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faArrowDown\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-select-style\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"City (\", citySelect, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: cityRef,\n            id: \"city\",\n            className: \"filter-state-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: handleFilterSelectValue,\n              className: \"filter-single-list\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-select-style\",\n                name: \"all\",\n                children: \"all\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this), ridesNearState.length > 0 && ridesNearState.map((el, indx) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: handleFilterSelectValue,\n                className: \"filter-single-list\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"filter-select-style\",\n                  name: el.city,\n                  children: el.city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 49\n                }, this)\n              }, indx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 45\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Filter, \"4yWsQ+uT3V4qDi0ycNVTGOAFoJo=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Filter;\nexport default Filter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"sources":["C:/My Computer/my work/apps/edvora/edvora/src/content/components/Filter/Filter.jsx"],"names":["FontAwesomeIcon","faArrowDownWideShort","faArrowDown","useRef","useState","useDispatch","useSelector","NavLink","originalRidesAddNearest","originalRidesAddUpcoming","originalRidesAddPast","Filter","dispatch","stateSelect","setStateSelect","citySelect","setCitySelect","ridesNearState","ridesUpcomingState","ridesPastState","upcomingCount","pastCount","state","rideStore","filterRef","stateRef","cityRef","handleFilterShow","e","target","parentElement","classList","toggle","current","handleFilterSelect","refValue","handleFilterSelectValue","filterSelectValue","getAttribute","filterField","id","handleFilterStateAndCity","originalNear","filter","el","originalRidesNearest","originalUpcoming","originalRidesUpcoming","originalPast","originalRidesPast","isActive","length","map","indx","city"],"mappings":"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","sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowDownWideShort, faArrowDown } from '@fortawesome/free-solid-svg-icons';\r\nimport './Filter.css';\r\nimport { useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { originalRidesAddNearest, originalRidesAddUpcoming, originalRidesAddPast } from '../../redux/reducers/OriginalRidesSlice';\r\n\r\nconst Filter = () => {\r\n    const dispatch = useDispatch();\r\n    const [stateSelect, setStateSelect] = useState('all');\r\n    const [citySelect, setCitySelect] = useState('all');\r\n    const { ridesNearState,ridesUpcomingState,ridesPastState,upcomingCount, pastCount } = useSelector( state => state.rideStore );\r\n    const filterRef = useRef();\r\n    const stateRef = useRef();\r\n    const cityRef = useRef();\r\n\r\n    const handleFilterShow = e => {\r\n        e.target.parentElement.classList.toggle('active')\r\n        filterRef.current.classList.toggle('active')\r\n    }\r\n\r\n    const handleFilterSelect = refValue => {\r\n        refValue.current.classList.toggle('active')\r\n    }\r\n\r\n    const handleFilterSelectValue = e => {\r\n        let filterSelectValue = e.target.getAttribute('name');\r\n        let filterField = e.target.parentElement.parentElement.id;\r\n        if( filterField === 'state' ){\r\n            setStateSelect(filterSelectValue)\r\n        }else if(filterField === 'city'){\r\n            setCitySelect(filterSelectValue)\r\n        }\r\n    }\r\n    const handleFilterStateAndCity = () => {\r\n        if( stateSelect !== 'all' && citySelect === 'all' ){\r\n            let originalNear = ridesNearState.filter( el => el.state === stateSelect )\r\n            dispatch( originalRidesAddNearest( { originalRidesNearest : originalNear } ) )\r\n            let originalUpcoming = ridesUpcomingState.filter( el => el.state === stateSelect )\r\n            dispatch( originalRidesAddUpcoming( { originalRidesUpcoming : originalUpcoming } ) )\r\n            let originalPast = ridesPastState.filter( el => el.state === stateSelect )\r\n            dispatch( originalRidesAddPast( { originalRidesPast : originalPast } ) )\r\n        }\r\n        if( stateSelect === 'all' && citySelect === 'all' ){\r\n            let originalNear = ridesNearState;\r\n            dispatch( originalRidesAddNearest( { originalRidesNearest : originalNear } ) )\r\n            let originalUpcoming = ridesUpcomingState;\r\n            dispatch( originalRidesAddUpcoming( { originalRidesUpcoming : originalUpcoming } ) )\r\n            let originalPast = ridesPastState;\r\n            dispatch( originalRidesAddPast( { originalRidesPast : originalPast } ) )\r\n        }    \r\n    }\r\n    \r\n    return(\r\n        <div className=\"filter\">\r\n            <div className=\"container\">\r\n                <div className=\"filter-links\">\r\n                <NavLink className={ ({isActive}) => isActive ? 'active' : '' } to={`/`}>\r\n                    <h2>Nearest rides</h2>    \r\n                </NavLink> \r\n                <NavLink className={ ({isActive}) => isActive ? 'active' : '' } to={`upcoming`}>\r\n                    <h2>Upcoming rides ({upcomingCount})</h2>    \r\n                </NavLink>\r\n                <NavLink className={ ({isActive}) => isActive ? 'active' : '' } to={`past`}>\r\n                    <h2>Past rides ({pastCount})</h2>    \r\n                </NavLink>       \r\n                </div>\r\n                <div className=\"filter-selects\">\r\n                    <div onClick={handleFilterShow} className='filter-header'>\r\n                        <FontAwesomeIcon icon={faArrowDownWideShort} />\r\n                        <h2>Filter</h2>\r\n                    </div>\r\n                    <div ref={filterRef} className='filter-lists'>\r\n                        <div onClick={() => handleFilterSelect(stateRef)} className='filter-state filter-single-list'>\r\n                            <div className='filter-select-style'><FontAwesomeIcon icon={faArrowDown} /></div> \r\n                            <div className='filter-select-style'><h2>State ({stateSelect})</h2></div>\r\n                        </div>\r\n                        <div ref={stateRef} id='state' className='filter-state-list'>\r\n                            <div onClick={handleFilterSelectValue} className='filter-single-list'>\r\n                                <div className='filter-select-style' name='all'>all</div>\r\n                            </div>\r\n                                { \r\n                                ridesNearState.length > 0 &&\r\n                                    ridesNearState.map( (el,indx) => {\r\n                                        return(\r\n                                            <div onClick={handleFilterSelectValue} className='filter-single-list' key={indx}>\r\n                                                <div className='filter-select-style' name={el.state}>{el.state}</div>\r\n                                            </div>\r\n                                        )\r\n                                    } ) }\r\n                        </div>\r\n                        <div onClick={() => handleFilterSelect(cityRef)} className='filter-city filter-single-list'>\r\n                            <div className='filter-select-style'><FontAwesomeIcon icon={faArrowDown} /></div> \r\n                            <div className='filter-select-style'><h2>City ({citySelect})</h2></div>\r\n                        </div>\r\n                        <div ref={cityRef} id='city' className='filter-state-list'>\r\n                            <div onClick={handleFilterSelectValue} className='filter-single-list'>\r\n                                <div className='filter-select-style' name='all'>all</div>\r\n                            </div>\r\n                                { \r\n                                ridesNearState.length > 0 &&\r\n                                    ridesNearState.map( (el,indx) => {\r\n                                        return(\r\n                                            <div onClick={handleFilterSelectValue} className='filter-single-list' key={indx}>\r\n                                                <div  className='filter-select-style' name={el.city}>{el.city}</div>\r\n                                            </div>\r\n                                        )\r\n                                    } ) }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Filter;"]},"metadata":{},"sourceType":"module"}